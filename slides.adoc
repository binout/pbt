= Property Based Testing : la v√©rit√© vraie !
:icons: font
:asset-uri-scheme: https
:source-highlighter: highlightjs
:deckjs_theme: swiss
:deckjs_transition: fade
:navigation: false
:goto: true
:status: true
:conf: bdxio

image::images/{conf}.jpg[float="right"]

== Benoit Prioux

icon:twitter[] @binout +
icon:github[] https://github.com/binout

image::images/lectra.png[]

image::images/lectra-versalis.jpg[versalis, 800]

== Pyramide des tests

.https://martinfowler.com/bliki/TestPyramid.html
image::images/test-pyramid.png[]

== D√©veloppement pilot√© par les tests

.https://www.supinfo.com/articles/single/3034-test-driven-development
image::images/TDD.png[]

== Inductif vs Deductif

.https://twitter.com/lilobase/status/769921361141784576
image::images/tddpbt.png[]

== Tests par propri√©t√©s

[quote]
Exprimer des propri√©t√©s et laisser une suite de tests les v√©rifier pour un grand nombre d'entr√©es.

== Propri√©t√© 

.Ensemble des entiers naturels
[quote]
‚àÄa ‚àà ‚Ñï a ‚â• 0

.Concat√©nation de string
[quote]
(a + b).length = a.length + b.length

[canvas-image=images/property-finding.png]
== Propery finding

[.canvas-caption, position=top-left]
Comment trouver des propri√©t√©s ?

== R√®gles m√©tiers

[quote]
Trouver les invariants dans votre domaine m√©tier 

image::images/business-rules.png[]

== Aller-Retour

[quote]
S√©rialiser + D√©serialiser = idem

image::images/serialize.png[]

== Certaines choses ne changent jamais

[quote]
List.sort( ) = m√™me taille, m√™mes √©l√©ments

image::images/sort.png[]

== Difficile √† calculer, facile √† v√©rifier

[quote]
Trouver un chemin

image::images/itinerary.png[]


== Outils

image::images/data.png[float=right]

* Int√©gration avec un runner de test
* Besoin de g√©n√©rer des donn√©es al√©atoires
* Capacit√© √† cr√©er ses propres g√©n√©rateurs
* R√©duction des valeurs possibles en entr√©e

== Librairies

image::images/haskell.png[float=right]

* Haskell : `Quickcheck`
* Scala : `ScalaCheck`
* Kotlin : `KotlinTest`
* Java : 
** `JUnit-Quickcheck` pour Junit 4
** `Jqwik` pour Junit 5

== D√©mo : jqwik

image::images/molkky.png[]

== Conclusion

image::images/new-pyramid.png[]

.Pour aller plus loin
** icon:github[] https://github.com/binout/pbt
** üé¶ Universit√© Devoxx 2016 (Cyrille Martraire - Romeu MOURA)

video::O-LWbSUaEQU[youtube]
